###############################################################################
#                                                                             #
#                Dossier de Configuration pour serveur SvxLink                #
#                                                                             #
###############################################################################

[GLOBAL]
MODULE_PATH=/usr/lib/arm-linux-gnueabihf/svxlink
LOGICS=SimplexLogic,ReflectorLogic
#LOGICS=RepeaterLogic,ReflectorLogic
CFG_DIR=svxlink.d
TIMESTAMP_FORMAT="%c"
TIME_FORMAT="12"
CARD_SAMPLE_RATE=48000
CARD_CHANNELS=2
LOCATION_INFO=LocationInfo
LINKS=LinkToReflector

[SimplexLogic]
TYPE=Simplex
RX=Rx1
TX=Tx1
MODULES=ModuleHelp,ModuleParrot,ModuleEchoLink,ModuleMetarInfo
CALLSIGN=MYCALL
TIME_FORMAT="12"
SHORT_IDENT_INTERVAL=10
LONG_IDENT_INTERVAL=30
EVENT_HANDLER=/usr/share/svxlink/events.tcl
DEFAULT_LANG=fr_FR
RGR_SOUND_DELAY=0
RGR_SOUND_ALWAYS=1
#TX_CTCSS=ALWAYS
MACROS=Macros
FX_GAIN_NORMAL=0
FX_GAIN_LOW=-12
QSO_RECORDER=8:QsoRecorder

# Prochaine paragraphe dispo pour répéteur seulement.
[RepeaterLogic]
TYPE=Repeater
RX=Rx1
TX=MultiTx
MODULES=ModuleHelp,ModuleParrot,ModuleEchoLink,ModuleMetarInfo
CALLSIGN=MYCALL
TIME_FORMAT="12"
SHORT_IDENT_INTERVAL=10
LONG_IDENT_INTERVAL=60
#IDENT_ONLY_AFTER_TX=4
#EXEC_CMD_ON_SQL_CLOSE=500
EVENT_HANDLER=/usr/share/svxlink/events.tcl
DEFAULT_LANG=fr_FR
RGR_SOUND_DELAY=0
#REPORT_CTCSS=77.0
#TX_CTCSS=SQL_OPEN
MACROS=Macros
#SEL5_MACRO_RANGE=03400,03499
FX_GAIN_NORMAL=0
FX_GAIN_LOW=-12
#QSO_RECORDER=8:QsoRecorder
#NO_REPEAT=1
IDLE_TIMEOUT=20
# Prochaine ligne - pour 1750 Hz Accés
OPEN_ON_1750=250
# Prochain ligne - pour CTCSS Accès
OPEN_ON_CTCSS=77:500
#OPEN_ON_DTMF=*
#OPEN_ON_SQL=5000
#OPEN_ON_SEL5=01234
OPEN_SQL_FLANK=OPEN
#OPEN_ON_SQL_AFTER_RPT_CLOSE=10
IDLE_SOUND_INTERVAL=3000
#SQL_FLAP_SUP_MIN_TIME=1000
#SQL_FLAP_SUP_MAX_COUNT=10
#ACTIVATE_MODULE_ON_LONG_CMD=4:EchoLink
#IDENT_NAG_TIMEOUT=15
#IDENT_NAG_MIN_TIME=2000
# code secret pour sysop eg 4999990 = off 4999991 = on
ONLINE_CMD=499999
ONLINE=1
#STATE_PTY=/var/run/svxlink/state
#DTMF_CTRL_PTY=/dev/shm/repeater_dtmf_ctrl

[ReflectorLogic]
TYPE=Reflector
HOSTS=docs.rrf.ovh
HOST_PORT=5399
CALLSIGN="MYCALL"
AUTH_KEY="Magnifique123456789!"
DEFAULT_LANG=fr_FR
JITTER_BUFFER_DELAY=0
DEFAULT_TG=0
MONITOR_TGS=208,97,98,99,100,101,102
TG_SELECT_TIMEOUT=90
ANNOUNCE_REMOTE_MIN_INTERVAL=300
EVENT_HANDLER=/usr/share/svxlink/events.tcl
NODE_INFO_FILE=/etc/svxlink/node_info.json 
# to be added added on connection to svxportal-uk
MUTE_FIRST_TX_LOC=0
MUTE_FIRST_TX_REM=0
TMP_MONITOR_TIMEOUT=0

[LinkToReflector]
CONNECT_LOGICS=SimplexLogic:9:,ReflectorLogic
DEFAULT_ACTIVE=1
OPTIONS=DEFAULT_CONNECT,NO_DISCONNECT
TIMEOUT=0

[Macros]
1=::91100#
9=::910#

[QsoRecorder]
REC_DIR=/var/spool/svxlink/qso_recorder
#MIN_TIME=1000
MAX_TIME=3600
SOFT_TIME=300
MAX_DIRSIZE=1024
#DEFAULT_ACTIVE=1
#TIMEOUT=300
#QSO_TIMEOUT=300
#ENCODER_CMD=/usr/bin/oggenc -Q \"%f\" && rm \"%f\"

[Voter]
TYPE=Voter
RECEIVERS=Rx1,Rx2
VOTING_DELAY=200
BUFFER_LENGTH=0
#REVOTE_INTERVAL=1000
#HYSTERESIS=50
#SQL_CLOSE_REVOTE_DELAY=500
#RX_SWITCH_DELAY=500
#COMMAND_PTY=/dev/shm/voter_ctrl
#VERBOSE=1

[MultiTx]
TYPE=Multi
TRANSMITTERS=Tx1,Tx2

[TxStream]
TYPE=Local
AUDIO_DEV=alsa:hw:Loopback,0,2
AUDIO_CHANNEL=0
PTT_TYPE=NONE
TIMEOUT=7200
TX_DELAY=0
PREEMPHASIS=0

[NetRx]
TYPE=Net
HOST=remote.rx.host
TCP_PORT=5210
#LOG_DISCONNECTS_ONCE=0
AUTH_KEY="Change this key now!"
CODEC=OPUS
#OPUS_ENC_FRAME_SIZE=20
#OPUS_ENC_COMPLEXITY=10
#OPUS_ENC_BITRATE=20000
#OPUS_ENC_VBR=1

[NetTx]
TYPE=Net
#TX_ID=A
HOST=remote.tx.host
TCP_PORT=5210
#LOG_DISCONNECTS_ONCE=0
AUTH_KEY="Change this key now!"
CODEC=OPUS
#OPUS_ENC_FRAME_SIZE=20
#OPUS_ENC_COMPLEXITY=10
#OPUS_ENC_BITRATE=20000
#OPUS_ENC_VBR=1

[Rx1]
#RX_ID=K
TYPE=Local
AUDIO_DEV=alsa:plughw:0
AUDIO_CHANNEL=0
SQL_DET=GPIOD
SQL_START_DELAY=1
SQL_DELAY=10
SQL_HANGTIME=10
DTMF_SERIAL=/dev/ttyS0
SQL_GPIOD_CHIP=gpiochip0
SQL_GPIOD_LINE=!23
#SQL_GPIOD_BIAS=PULLUP
#GPIO_SQL_PIN=gpio23
SIGLEV_SLOPE=1
SIGLEV_OFFSET=0
SQL_SIGLEV_OPEN_THRESH=30
SQL_SIGLEV_CLOSE_THRESH=10
DEEMPHASIS=0
PEAK_METER=0
DTMF_DEC_TYPE=INTERNAL
DTMF_MUTING=1
DTMF_HANGTIME=100
FQ=430050000 
# Change at build time
MODULATION=NBFM

[Rx2]
TYPE=Local
AUDIO_DEV=alsa:plughw:0
AUDIO_CHANNEL=1
SQL_DET=GPIO
SQL_PIN=gpio17
SQL_START_DELAY=1
SQL_DELAY=10
SQL_HANGTIME=10
SIGLEV_SLOPE=1
SIGLEV_OFFSET=0
SQL_SIGLEV_OPEN_THRESH=30
SQL_SIGLEV_CLOSE_THRESH=0
DEEMPHASIS=0
PEAK_METER=0
DTMF_DEC_TYPE=INTERNAL
DTMF_MUTING=1
DTMF_HANGTIME=100
MODULATION=NBFM
CTCSS_Mode=3
CTCSS_FQ=103.5
CTCSS_SNR_OFFSET=0
CTSCC_OPEN_THRESH=21
CTCSS_CLOSE_THRESH=15
CTCSS_BPF_LOW=60
CTCSS_BPF_HIGH=270

[Tx1]
TYPE=Local
#TX_ID=K
AUDIO_DEV=alsa:plughw:0,0
AUDIO_CHANNEL=0
PTT_TYPE=GPIO
PTT_PORT=GPIO
PTT_PIN=gpio24
PTT_HANGTIME=10
TIMEOUT=300
TX_DELAY=0
PREEMPHASIS=0
#DTMF_TONE_LENGTH=100
#DTMF_TONE_SPACING=50
#DTMF_DIGIT_PWR=-18

[Tx2]
TYPE=Local
AUDIO_DEV=alsa:plughw:0,0
AUDIO_CHANNEL=1
PTT_TYPE=GPIO
PTT_PORT=GPIO
PTT_PIN=gpio18
PTT_HANGTIME=10
TIMEOUT=300
TX_DELAY=0
PREEMPHASIS=0

[LocationInfo]
APRS_SERVER_LIST=euro.aprs2.net:14580
#STATUS_SERVER_LIST=aprs.echolink.org:5199
#LON_POSITION=-1.0.0W
#LAT_POSITION=40.10.51N
CALLSIGN=EL-MYCALL
FREQUENCY=430.050
TX_POWER=1
ANTENNA_GAIN=1
ANTENNA_HEIGHT=1m
ANTENNA_DIR=-1
PATH=WIDE1-1
BEACON_INTERVAL=10
COMMENT=SvxLink by SM0SVX (www.svxlink.org)


